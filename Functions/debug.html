<script>

function debugElementoSeleccionado() {
  console.log('üîç DEBUG Elemento Seleccionado:');
  console.log('Maquina ID:', currentMaquinaId, 'Tipo:', typeof currentMaquinaId);
  console.log('Elemento ID:', currentElementoId, 'Tipo:', typeof currentElementoId);
  console.log('Maquina Nombre:', currentMaquinaNombre);
  console.log('Elemento Nombre:', currentElementoNombre);
  
  // Primero probar con la funci√≥n de debug espec√≠fica
  google.script.run
    .withSuccessHandler(function(result) {
      console.log('üêõ DEBUG ESPEC√çFICO Resultado:', result);
    })
    .debugRegistrosElemento(currentMaquinaId, currentElementoId);
  
  // Luego con la funci√≥n normal - CAMBIADO TAMBI√âN
  google.script.run
    .withSuccessHandler(function(result) {
      console.log('üìä Registros encontrados (funci√≥n normal):', result);
      if (result && result.success) {
        console.log('Total registros:', result.registros.length);
        result.registros.forEach(reg => {
          console.log('Registro:', reg);
        });
      } else {
        console.log('Error:', result ? result.message : 'Resultado nulo');
      }
    })
    .obtenerRegistrosLimpieza(currentMaquinaId, currentElementoId); // ‚Üê CAMBIADO AQU√ç
}

function ejecutarDiagnostico() {
  console.log('üõ†Ô∏è Ejecutando diagn√≥stico...');
  
  google.script.run
    .withSuccessHandler(function(result) {
      console.log('üìã Resultado diagn√≥stico:', result);
      if (result.success) {
        showAlert("success", "Diagn√≥stico completado", `Revisa la consola para detalles.\nTotal registros: ${result.diagnostico.totalRegistros}`);
} else {
  showAlert('error', 'Error en diagn√≥stico', result.message);
}
    })
    .diagnosticarRegistros();
}

</script>

